<h3>Trashbin List</h3>
<button (click)="getTrashbins()">Refresh</button>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Height (cm)</th>
      <th>Created Date</th>
      <th>Threshold (%)</th>
      <th>Map</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    @for (trashbin of trashbins; track $index) {
      <tr [style.color]="trashbin.needsCleaning ? 'red' : 'green'">
        <td>{{ trashbin.name }}</td>
        <td>{{ trashbin.height }}</td>
        <td>{{ trashbin.createdDate }}</td>
        <td>{{ trashbin.threshold }}</td>
        <td>{{ trashbin.location?.address || 'No address' }}</td>
        <td>{{ trashbin.needsCleaning ? 'Needs Cleaning' : 'Clean' }}</td>
        <td>
          @if (trashbin.needsCleaning) {
            <button (click)="markCleaned(trashbin)" class="btn btn-success">Mark cleaned</button>
          } @else {
            <span class="text-success">Already clean</span>
          }
        </td>

      </tr>
    }
  </tbody>
</table>
<p><a routerLink="/trashbins">Back to trash bin page</a></p>

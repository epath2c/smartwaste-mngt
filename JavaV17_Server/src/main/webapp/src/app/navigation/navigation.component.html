<nav class="navbar navbar-expand-lg app-navbar mb-4">
  <div class="container">
    <!-- User email with themed pill style -->
    <span class="nav-user-email me-3" *ngIf="userEmail$ | async as email">
      {{ email }}
    </span>

    <div class="d-flex ms-auto align-items-center nav-actions">
      <!-- Main links -->
      <a routerLink="/" class="nav-home-btn">Home</a>

      <ng-container *ngIf="isLoggedIn$ | async; else notLoggedIn">
        <a routerLink="/view/sensors" class="nav-chip">Sensors</a>
        <a routerLink="/view/trashbins" class="nav-chip">Trash Bin</a>
        <a routerLink="/view/cleaners" class="nav-chip">Cleaner</a>
        <a routerLink="/view/shifts" class="nav-chip">Shifts</a>

        <!-- Logout button with soft danger style -->
        <button class="btn btn-danger-soft ms-1" (click)="logout()">
          Logout
        </button>
      </ng-container>

      <ng-template #notLoggedIn>
        <a routerLink="/login" class="nav-login-btn me-2">Login</a>
        <a routerLink="/register" class="nav-register-btn">Register</a>
      </ng-template>
    </div>
  </div>
</nav>

<!-- ✅ Logout Success Modal (glass overlay version) -->
<div
  class="logout-modal-overlay"
  *ngIf="showLogoutModal"
  (click)="closeModal()"
>
  <div class="logout-modal card" (click)="$event.stopPropagation()">
    <h5>✅ Successfully logged out!</h5>
    <button class="btn btn-theme mt-3" (click)="closeModal()">Close</button>
  </div>
</div>
